"use strict";(self.webpackChunkpspc_webapp=self.webpackChunkpspc_webapp||[]).push([[916],{7318:function(e,n,a){a.d(n,{Z:function(){return h}});var s=a(4165),t=a(5861),r=a(5671),l=a(3144),o=a(7326),i=a(136),c=a(7277),d=a(2791),u=a(184),p=function(e){(0,i.Z)(a,e);var n=(0,c.Z)(a);function a(e){var s;return(0,r.Z)(this,a),(s=n.call(this,e)).state={isLoading:!1},s.handleOnPress=s.handleOnPress.bind((0,o.Z)(s)),s}return(0,l.Z)(a,[{key:"componentDidMount",value:function(){}},{key:"handleOnPress",value:function(){var e=(0,t.Z)((0,s.Z)().mark((function e(n){var a,t,r,l,o=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=this.props.onPress)){e.next=7;break}for(this.setState({isLoading:!0}),t=o.length,r=new Array(t>1?t-1:0),l=1;l<t;l++)r[l-1]=o[l];return e.next=6,a(n,r);case 6:this.setState({isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,n=e.isLoadingMain,a=e.type,s=e.title,t=e.className;return this.state.isLoading||n?(0,u.jsxs)("button",{className:"".concat(t),type:"button",disabled:!0,children:[(0,u.jsx)("span",{className:"spinner-border spinner-border-sm loader-x",role:"status","aria-hidden":"true"}),(0,u.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}):(0,u.jsx)("button",{className:"".concat(t),type:a||"button",onClick:this.handleOnPress,disabled:!1,children:s})}}]),a}(d.Component),h=p},3977:function(e,n,a){a.d(n,{Z:function(){return u}});var s=a(5671),t=a(3144),r=a(7326),l=a(136),o=a(7277),i=a(2791),c=a(8652),d=a(184),u=function(e){(0,l.Z)(a,e);var n=(0,o.Z)(a);function a(e){var t;return(0,s.Z)(this,a),(t=n.call(this,e)).componentDidMount=function(){},t.handleOnOpenMenuMobile=function(e){document.getElementById("bdNavbar").classList.toggle("show")},t.handleOnOpenConfigUser=function(e){document.getElementById("idConfigUser").classList.toggle("show")},t.state={},t.handleOnOpenMenuMobileItem=t.handleOnOpenMenuMobileItem.bind((0,r.Z)(t)),t.handleOnOpenMenuMobile=t.handleOnOpenMenuMobile.bind((0,r.Z)(t)),t.handleOnOpenConfigUser=t.handleOnOpenConfigUser.bind((0,r.Z)(t)),t}return(0,t.Z)(a,[{key:"handleOnOpenMenuMobileItem",value:function(e){var n=e.target||e.srcElement;n.parentElement.children&&n.parentElement.children.length>0&&n.parentElement.children[1].classList.toggle("show")}},{key:"handleClose",value:function(e){var n=this;(0,c.w)().then((function(){n.props.navigate(0)})).catch((function(e){n.props.addNotification({typeToast:"error",text:e.message,title:"ERROR"})})).finally((function(){return n.setState({isLoadingMain:!1})}))}},{key:"render",value:function(){var e=this;return(0,d.jsx)("header",{className:"navbar navbar-expand-lg navbar-dark bd-navbar sticky-top",children:(0,d.jsxs)("nav",{className:"container-xxl bd-gutter flex-wrap flex-lg-nowrap","aria-label":"Main navigation",children:[(0,d.jsx)("div",{className:"d-lg-none",style:{width:"2.25rem"}}),(0,d.jsx)("a",{className:"navbar-brand p-0 me-0 me-lg-2",href:"https://getbootstrap.com/","aria-label":"Bootstrap",children:(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"32",className:"d-block my-1",viewBox:"0 0 118 94",role:"img",children:[(0,d.jsx)("title",{children:"Bootstrap"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z",fill:"currentColor"})]})}),(0,d.jsx)("button",{className:"navbar-toggler d-flex d-lg-none order-3 p-2",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#bdNavbar","aria-controls":"bdNavbar","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,d.jsx)("span",{className:"material-icons",onClick:function(n){return e.handleOnOpenMenuMobile(n)},children:"more_horiz"})}),(0,d.jsxs)("div",{className:"offcanvas-lg offcanvas-end flex-grow-1",id:"bdNavbar","aria-labelledby":"bdNavbarOffcanvasLabel",children:[(0,d.jsx)("div",{className:"offcanvas-header px-4 pb-0",children:(0,d.jsx)("button",{type:"button",className:"navbar-toggler d-flex d-lg-none order-3 p-2","data-bs-dismiss":"offcanvas","aria-label":"Close","data-bs-target":"#bdNavbar",children:(0,d.jsx)("span",{className:"material-icons",onClick:function(n){return e.handleOnOpenMenuMobile(n)},children:"close"})})}),(0,d.jsxs)("div",{className:"offcanvas-body p-4 pt-0 p-lg-0",children:[(0,d.jsx)("hr",{className:"d-lg-none text-white-50"}),(0,d.jsxs)("ul",{className:"navbar-nav flex-row flex-wrap bd-navbar-nav",children:[(0,d.jsx)("li",{className:"nav-item col-6 col-lg-auto",children:(0,d.jsxs)("a",{className:"nav-link py-2 px-0 px-lg-2",rel:"noopener",children:[(0,d.jsx)("span",{className:"material-icons navbar-nav-svg",children:"home"}),(0,d.jsx)("small",{className:"ms-2",children:"Home"})]})}),(0,d.jsx)("li",{className:"nav-item col-6 col-lg-auto",children:(0,d.jsxs)("a",{className:"nav-link py-2 px-0 px-lg-2 active",href:"/projects/view",rel:"noopener",children:[(0,d.jsx)("span",{className:"material-icons navbar-nav-svg",children:"splitscreen"}),(0,d.jsx)("small",{className:"ms-2",children:"Projects"})]})}),(0,d.jsx)("li",{className:"nav-item col-6 col-lg-auto",children:(0,d.jsxs)("a",{className:"nav-link py-2 px-0 px-lg-2 active",rel:"noopener",children:[(0,d.jsx)("span",{className:"material-icons navbar-nav-svg",children:"web_stories"}),(0,d.jsx)("small",{className:"ms-2",children:"User history"})]})}),(0,d.jsx)("li",{className:"nav-item col-6 col-lg-auto",children:(0,d.jsxs)("a",{className:"nav-link py-2 px-0 px-lg-2 active",rel:"noopener",children:[(0,d.jsx)("span",{className:"material-icons navbar-nav-svg",children:"task"}),(0,d.jsx)("small",{className:"d-lg-none ms-2",children:"Tasks"})]})})]}),(0,d.jsx)("hr",{className:"d-lg-none text-white-50"}),(0,d.jsxs)("ul",{className:"navbar-nav flex-row flex-wrap ms-md-auto",children:[(0,d.jsx)("li",{className:"nav-item col-6 col-lg-auto",children:(0,d.jsxs)("a",{className:"nav-link py-2 px-0 px-lg-2",href:"https://github.com/twbs",target:"_blank",rel:"noopener",children:[(0,d.jsx)("span",{className:"material-icons navbar-nav-svg",children:"bug_report"}),(0,d.jsx)("small",{className:"d-lg-none ms-2",children:"GitHub"})]})}),(0,d.jsx)("li",{className:"nav-item col-6 col-lg-auto",children:(0,d.jsxs)("a",{className:"nav-link py-2 px-0 px-lg-2",href:"https://github.com/twbs",target:"_blank",rel:"noopener",children:[(0,d.jsx)("span",{className:"material-icons navbar-nav-svg",children:"report_problem"}),(0,d.jsx)("small",{className:"d-lg-none ms-2",children:"report_problem"})]})}),(0,d.jsx)("li",{className:"nav-item col-6 col-lg-auto",children:(0,d.jsxs)("a",{className:"nav-link py-2 px-0 px-lg-2",href:"https://github.com/twbs",target:"_blank",rel:"noopener",children:[(0,d.jsx)("span",{className:"material-icons navbar-nav-svg",children:"report"}),(0,d.jsx)("small",{className:"d-lg-none ms-2",children:"report"})]})}),(0,d.jsxs)("li",{className:"nav-item py-2 py-lg-1 col-12 col-lg-auto",children:[(0,d.jsx)("div",{className:"vr d-none d-lg-flex h-100 mx-lg-2 text-white"}),(0,d.jsx)("hr",{className:"d-lg-none my-2 text-white-50"})]}),(0,d.jsxs)("li",{className:"nav-item dropdown",children:[(0,d.jsx)("button",{className:"btn btn-link nav-link py-2 px-0 px-lg-2 dropdown-toggle d-flex align-items-center",type:"button","aria-expanded":"false","data-bs-toggle":"dropdown","data-bs-display":"static",children:(0,d.jsx)("span",{className:"material-icons",onClick:function(n){return e.handleOnOpenConfigUser(n)},children:"account_circle"})}),(0,d.jsx)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"idConfigUser",id:"idConfigUser",style:{"--bs-dropdown-min-width":"8rem"},"data-bs-popper":"static",children:(0,d.jsx)("li",{children:(0,d.jsxs)("button",{type:"button",className:"dropdown-item d-flex align-items-center","data-bs-theme-value":"light",children:[(0,d.jsx)("span",{className:"material-icons me-2 opacity-50",children:"person"}),"Profile"]})})})]})]})]})]})]})})}}]),a}(i.Component)},8652:function(e,n,a){a.d(n,{w:function(){return u},z:function(){return d}});var s=a(4165),t=a(8683),r=a(5861),l=a(1912),o=a(7213),i=a(5118),c=a(7176),d=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){var a,r,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,o.us)(),e.next=4,l.Z.post("".concat(c.Z.API.auth.signIn),n,{headers:(0,t.Z)({},a)});case 4:return r=e.sent,d=r.data,(0,o.M8)(d.accessToken),e.abrupt("return",d);case 10:if(e.prev=10,e.t0=e.catch(0),console.error(e.t0),!e.t0.response){e.next=18;break}throw console.error(e.t0.response.data),console.error(e.t0.response.status),console.error(e.t0.response.headers),new i.s(e.t0.response.data.message,e.t0.response.data.code,e.t0.response.status);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n,a,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,o.us)(),e.next=4,l.Z.post("".concat(c.Z.API.auth.signOut),void 0,{headers:(0,t.Z)({},n)});case 4:return a=e.sent,r=a.data,(0,o._T)(),e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),console.error(e.t0),!e.t0.response){e.next=18;break}throw console.error(e.t0.response.data),console.error(e.t0.response.status),console.error(e.t0.response.headers),new i.s(e.t0.response.data.message,e.t0.response.data.code,e.t0.response.status);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},7248:function(e,n,a){a.d(n,{Q:function(){return u},U:function(){return d}});var s=a(4165),t=a(8683),r=a(5861),l=a(1912),o=a(7213),i=a(5118),c=a(7176),d=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){var a,r,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,o.us)(),e.next=4,l.Z.post("".concat(c.Z.API.user.create),n,{headers:(0,t.Z)({},a)});case 4:return r=e.sent,d=r.data,e.abrupt("return",d);case 9:if(e.prev=9,e.t0=e.catch(0),console.error(e.t0),!e.t0.response){e.next=17;break}throw console.error(e.t0.response.data),console.error(e.t0.response.status),console.error(e.t0.response.headers),new i.s(e.t0.response.data.message,e.t0.response.data.code,e.t0.response.status);case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,a){var r,d,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,o.us)(),e.next=4,l.Z.post("".concat(c.Z.API.user.activate,"?step=").concat(n),a,{headers:(0,t.Z)({},r)});case 4:return d=e.sent,u=d.data,e.abrupt("return",u);case 9:if(e.prev=9,e.t0=e.catch(0),console.error(e.t0),!e.t0.response){e.next=17;break}throw console.error(e.t0.response.data),console.error(e.t0.response.status),console.error(e.t0.response.headers),new i.s(e.t0.response.data.message,e.t0.response.data.code,e.t0.response.status);case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,a){return e.apply(this,arguments)}}()},7176:function(e,n){var a="https://z700n9652g.execute-api.us-east-1.amazonaws.com",s="https://sz8o589y56.execute-api.us-east-1.amazonaws.com";n.Z=Object.freeze({API:{auth:{signIn:"".concat(a,"/dev/pspc/security/auth/sign-in"),signOut:"".concat(a,"/dev/pspc/security/auth/sign-out")},user:{create:"".concat(s,"/dev/pspc/clients/users"),activate:"".concat(s,"/dev/pspc/security/users-activate")}}})},5118:function(e,n,a){a.d(n,{s:function(){return o}});var s=a(3144),t=a(5671),r=a(136),l=a(7277),o=function(e){(0,r.Z)(a,e);var n=(0,l.Z)(a);function a(e,s,r){var l;return(0,t.Z)(this,a),(l=n.call(this,e)).code=s,l.statusCode=r,l}return(0,s.Z)(a)}((0,a(8737).Z)(Error))},3797:function(e,n,a){function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=new FormData(e);return Array.from(s.keys()).reduce((function(s,t){var r="";return r="select-one"===e.elements[t].type?e.elements[t].value:"checkbox"===e.elements[t].type?!(!e.elements[t].value||"on"!==e.elements[t].value):e.elements[t].value,!0===a?Object.keys(n).includes(t)&&(n[t]=r,s[t]=r):(n[t]=r,s[t]=r),s}),{}),n}a.d(n,{D:function(){return s}})},8916:function(e,n,a){a.r(n),a.d(n,{default:function(){return j}});var s=a(8683),t=a(4165),r=a(5861),l=a(5671),o=a(3144),i=a(7326),c=a(136),d=a(7277),u=a(2791),p=a(7318),h=a(3977),m=a(184),v=function(e){return(0,m.jsxs)("div",{className:" d-flex flex-column h-100 w-100",style:{padding:"5px"},children:[(0,m.jsx)(h.Z,(0,s.Z)({},e)),(0,m.jsx)("main",{className:"flex-shrink-0 form-signin m-auto",children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("form",{className:"g-3 needs-validation",onSubmit:e.handleSignIn,noValidate:!0,children:[(0,m.jsx)("img",{className:"img-fluid rounded mx-auto d-block",src:"/assets/image/ax9.png",alt:"",width:"150",height:"150"}),(0,m.jsx)("h1",{className:"h3 mb-3 fw-normal text-center",children:"Activate user"}),(0,m.jsx)("div",{className:"row mb-3",children:(0,m.jsxs)("div",{className:"col-12",children:[(0,m.jsx)("label",{htmlFor:"floatingPhone",className:"form-label",children:"Telephone"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"floatingPhone",name:"telephone",placeholder:"Telephone",required:!0}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Telephone is required"})]})}),(0,m.jsx)(p.Z,{title:"Send OTP code",type:"submit",className:"w-100",isLoadingMain:e.state.isLoadingMain}),(0,m.jsx)("button",{type:"button",className:"btn btn-link w-100 float-right",style:{padding:0,marginTop:20},onClick:function(n){return e.navigate(-1)},children:"Go to back"})]})})}),(0,m.jsx)("footer",{className:"footer",children:(0,m.jsx)("p",{className:"text-center text-muted",children:"\xa9 2022 PSPC"})})]})},f=a(1890),x=a(7248),g=a(3797),b=function(e){(0,c.Z)(a,e);var n=(0,d.Z)(a);function a(e){var s;return(0,l.Z)(this,a),(s=n.call(this,e)).handleSignIn=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var a,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),n.stopPropagation(),a=n.target,!0===a.checkValidity()&&(s.setState({isLoadingMain:!0}),r=(0,g.D)(a,{telephone:""}),(0,x.Q)(1,r).then((function(e){a.reset(),s.props.navigate("/user/validate")})).catch((function(e){s.props.addNotification({typeToast:"error",text:e.message,title:"ERROR"})})).finally((function(){return s.setState({isLoadingMain:!1})}))),a.classList.add("was-validated");case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s.state={isLoadingMain:!1},s.handleSignIn=s.handleSignIn.bind((0,i.Z)(s)),s}return(0,o.Z)(a,[{key:"render",value:function(){return(0,m.jsx)(v,(0,s.Z)({state:this.state,handleSignIn:this.handleSignIn},this.props))}}]),a}(u.Component);b.contextType=f.Vo;var j=b}}]);
//# sourceMappingURL=916.6529392f.chunk.js.map