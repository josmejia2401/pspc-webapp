"use strict";(self.webpackChunkpspc_webapp=self.webpackChunkpspc_webapp||[]).push([[875],{7318:function(e,n,t){t.d(n,{Z:function(){return h}});var s=t(4165),r=t(5861),a=t(5671),o=t(3144),i=t(7326),c=t(136),u=t(7277),l=t(2791),d=t(184),p=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(e){var s;return(0,a.Z)(this,t),(s=n.call(this,e)).state={isLoading:!1},s.handleOnPress=s.handleOnPress.bind((0,i.Z)(s)),s}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){}},{key:"handleOnPress",value:function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){var t,r,a,o,i=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.onPress)){e.next=7;break}for(this.setState({isLoading:!0}),r=i.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=i[o];return e.next=6,t(n,a);case 6:this.setState({isLoading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,n=e.isLoadingMain,t=e.type,s=e.title,r=e.className;return this.state.isLoading||n?(0,d.jsxs)("button",{className:"".concat(r),type:"button",disabled:!0,children:[(0,d.jsx)("span",{className:"spinner-border spinner-border-sm loader-x",role:"status","aria-hidden":"true"}),(0,d.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}):(0,d.jsx)("button",{className:"".concat(r),type:t||"button",onClick:this.handleOnPress,disabled:!1,children:s})}}]),t}(l.Component),h=p},8652:function(e,n,t){t.d(n,{w:function(){return d},z:function(){return l}});var s=t(4165),r=t(8683),a=t(5861),o=t(1912),i=t(7213),c=t(5118),u=t(7176),l=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var t,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,i.us)(),e.next=4,o.Z.post("".concat(u.Z.API.auth.signIn),n,{headers:(0,r.Z)({},t)});case 4:return a=e.sent,l=a.data,(0,i.M8)(l.accessToken),e.abrupt("return",l);case 10:if(e.prev=10,e.t0=e.catch(0),console.error(e.t0),!e.t0.response){e.next=18;break}throw console.error(e.t0.response.data),console.error(e.t0.response.status),console.error(e.t0.response.headers),new c.s(e.t0.response.data.message,e.t0.response.data.code,e.t0.response.status);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var n,t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,i.us)(),e.next=4,o.Z.post("".concat(u.Z.API.auth.signOut),void 0,{headers:(0,r.Z)({},n)});case 4:return t=e.sent,a=t.data,(0,i._T)(),e.abrupt("return",a);case 10:if(e.prev=10,e.t0=e.catch(0),console.error(e.t0),!e.t0.response){e.next=18;break}throw console.error(e.t0.response.data),console.error(e.t0.response.status),console.error(e.t0.response.headers),new c.s(e.t0.response.data.message,e.t0.response.data.code,e.t0.response.status);case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},7176:function(e,n){var t="https://z700n9652g.execute-api.us-east-1.amazonaws.com",s="https://sz8o589y56.execute-api.us-east-1.amazonaws.com";n.Z=Object.freeze({API:{auth:{signIn:"".concat(t,"/dev/pspc/security/auth/sign-in"),signOut:"".concat(t,"/dev/pspc/security/auth/sign-out")},user:{create:"".concat(s,"/dev/pspc/clients/users"),activate:"".concat(s,"/dev/pspc/security/users-activate")}}})},5118:function(e,n,t){t.d(n,{s:function(){return i}});var s=t(3144),r=t(5671),a=t(136),o=t(7277),i=function(e){(0,a.Z)(t,e);var n=(0,o.Z)(t);function t(e,s,a){var o;return(0,r.Z)(this,t),(o=n.call(this,e)).code=s,o.statusCode=a,o}return(0,s.Z)(t)}((0,t(8737).Z)(Error))},3797:function(e,n,t){function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=new FormData(e);return Array.from(s.keys()).reduce((function(s,r){var a="";return a="select-one"===e.elements[r].type?e.elements[r].value:"checkbox"===e.elements[r].type?!(!e.elements[r].value||"on"!==e.elements[r].value):e.elements[r].value,!0===t?Object.keys(n).includes(r)&&(n[r]=a,s[r]=a):(n[r]=a,s[r]=a),s}),{}),n}t.d(n,{D:function(){return s}})},5875:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var s=t(8683),r=t(4165),a=t(5861),o=t(5671),i=t(3144),c=t(7326),u=t(136),l=t(7277),d=t(2791),p=t(7318),h=t(184),f=function(e){return(0,h.jsx)("section",{className:"forms",children:(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)("div",{className:"logo",children:(0,h.jsx)("a",{className:"brand-logo",href:"#",children:"Personal Software Process"})}),(0,h.jsx)("div",{className:"forms-grid",children:(0,h.jsxs)("div",{className:"login",children:[(0,h.jsx)("strong",{children:"Welcome"}),(0,h.jsx)("span",{children:"Sign in with your account"}),(0,h.jsx)("form",{className:"login-form needs-validation",onSubmit:e.handleSignIn,noValidate:!0,children:(0,h.jsxs)("div",{className:"form",children:[(0,h.jsxs)("div",{className:"form-row",children:[(0,h.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"}),(0,h.jsx)("input",{type:"text",className:"form-text",id:"username",name:"username",required:!0})]}),(0,h.jsxs)("div",{className:"form-row",children:[(0,h.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),(0,h.jsx)("input",{type:"password",className:"form-text",id:"password",name:"password",required:!0})]}),(0,h.jsxs)("div",{className:"form-row button-login",children:[(0,h.jsx)(p.Z,{title:"Login",type:"submit",className:"btn-login",isLoadingMain:e.state.isLoadingMain}),(0,h.jsx)(p.Z,{title:"Register",type:"button",className:"btn-register",onClick:function(n){return e.navigate("/sign-up")}})]})]})})]})}),(0,h.jsx)("div",{className:"copy-right",children:(0,h.jsx)("p",{children:"\xa9 2023 PSPC. All rights reserved"})})]})})},m=t(1890),v=t(8652),g=t(3797),x=function(e){(0,u.Z)(t,e);var n=(0,l.Z)(t);function t(e){var s;return(0,o.Z)(this,t),(s=n.call(this,e)).handleSignIn=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),n.stopPropagation(),t=n.target,!0===t.checkValidity()&&(s.setState({isLoadingMain:!0}),a=(0,g.D)(t,{username:"",password:""}),(0,v.z)(a).then((function(e){t.reset(),s.props.navigate("/home")})).catch((function(e){s.props.addNotification({typeToast:"error",text:e.message,title:"ERROR"})})).finally((function(){return s.setState({isLoadingMain:!1})}))),t.classList.add("was-validated");case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),s.state={isLoadingMain:!1},s.handleSignIn=s.handleSignIn.bind((0,c.Z)(s)),s}return(0,i.Z)(t,[{key:"render",value:function(){return(0,h.jsx)(f,(0,s.Z)({state:this.state,handleSignIn:this.handleSignIn},this.props))}}]),t}(d.Component);x.contextType=m.Vo;var Z=x}}]);
//# sourceMappingURL=875.6f8f6761.chunk.js.map